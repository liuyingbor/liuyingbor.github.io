<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Unity-网络开发（三） | 狼唤</title><meta name="author" content="刘英博"><meta name="copyright" content="刘英博"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="大小端模式什么是大小端模式大端模式是指数据的高字节保存在内存的低地址中 而数据的低字节保存在内存的高地址中 这样的存储模式有点儿类似于把数据当作字符串顺序处理 地址由小向大增加，数据从高位往低位放 符合人类的阅读习惯 小端模式是指数据的高字节保存在内存的高地址中 而数据的低字节保存在内存的低地址中 举例说明十六进制数据0x11223344 大端模式存储11    22    33    44 0"><meta property="og:type" content="article"><meta property="og:title" content="Unity-网络开发（三）"><meta property="og:url" content="https://liuyingbo.com/posts/ba9e7782.html"><meta property="og:site_name" content="狼唤"><meta property="og:description" content="大小端模式什么是大小端模式大端模式是指数据的高字节保存在内存的低地址中 而数据的低字节保存在内存的高地址中 这样的存储模式有点儿类似于把数据当作字符串顺序处理 地址由小向大增加，数据从高位往低位放 符合人类的阅读习惯 小端模式是指数据的高字节保存在内存的高地址中 而数据的低字节保存在内存的低地址中 举例说明十六进制数据0x11223344 大端模式存储11    22    33    44 0"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-08-14T22:13:47.000Z"><meta property="article:modified_time" content="2022-11-13T11:01:46.733Z"><meta property="article:author" content="刘英博"><meta property="article:tag" content="Unity"><meta property="article:tag" content="网络"><meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://liuyingbo.com/posts/ba9e7782"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#3b70fc"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/128.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"><link rel="mask-icon" href="/img/siteicon/128.png" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Unity-网络开发（三）",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-11-13 11:01:46"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload='this.media="all"'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="狼唤" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://blog-1308267163.cos.ap-shanghai.myqcloud.com/imgs/202211100000064.JPG" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">狼唤</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Unity-网络开发（三）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-14T22:13:47.000Z" title="发表于 2022-08-14 22:13:47">2022-08-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-13T11:01:46.733Z" title="更新于 2022-11-13 11:01:46">2022-11-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Unity/">Unity</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Unity-网络开发（三）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="大小端模式"><a href="#大小端模式" class="headerlink" title="大小端模式"></a>大小端模式</h1><h2 id="什么是大小端模式"><a href="#什么是大小端模式" class="headerlink" title="什么是大小端模式"></a>什么是大小端模式</h2><h3 id="大端模式"><a href="#大端模式" class="headerlink" title="大端模式"></a>大端模式</h3><p>是指数据的高字节保存在内存的低地址中</p><p>而数据的低字节保存在内存的高地址中</p><p>这样的存储模式有点儿类似于把数据当作字符串顺序处理</p><p>地址由小向大增加，数据从高位往低位放</p><p>符合人类的阅读习惯</p><h3 id="小端模式"><a href="#小端模式" class="headerlink" title="小端模式"></a>小端模式</h3><p>是指数据的高字节保存在内存的高地址中</p><p>而数据的低字节保存在内存的低地址中</p><h3 id="举例说明"><a href="#举例说明" class="headerlink" title="举例说明"></a>举例说明</h3><p>十六进制数据0x11223344</p><h3 id="大端模式存储"><a href="#大端模式存储" class="headerlink" title="大端模式存储"></a>大端模式存储</h3><p>11 22 33 44</p><p>0 1 2 3</p><p>低地址——&gt;高地址</p><h3 id="小端模式存储"><a href="#小端模式存储" class="headerlink" title="小端模式存储"></a>小端模式存储</h3><p>44 33 22 11</p><p>0 1 2 3</p><p>低地址——&gt;高地址</p><h2 id="为什么有大小端模式"><a href="#为什么有大小端模式" class="headerlink" title="为什么有大小端模式"></a>为什么有大小端模式</h2><p>大小端模式其实是计算机硬件的两种存储数据的方式</p><p>我们也可以称大小端模式为 大小端字节序</p><p>对于我们来说，大端字节序阅读起来更加方便，为什么还要有小端字节序呢？</p><p>原因是，计算机电路先处理低位字节，效率比较高</p><p>计算机处理字节序的时候，不知道什么是高位字节，什么是低位字节</p><p>它只知道按顺序读取字节，先读第一个字节，再读第二个字节</p><p>如果是大端字节序，先读到的就是高位字节，后读到的就是低位字节</p><p>小端字节序正好相反</p><p>因为计算机都是从低位开始的</p><p>所以，计算机的内部处理都是小端字节序</p><p>但是，我们人类的读写习惯还是大端字节序</p><p>所以，除了计算机的内部处理</p><p>其它场合几乎都是大端字节序，比如网络传输和文件存储</p><p>一般情况下，操作系统都是小端模式，而通讯协议都是大端模式</p><p>但是具体的模式，还是要根据硬件平台，开发语言来决定</p><p>主机不同，开发语言不同 可能采用的大小端模式也会不一致</p><h2 id="大小端模式对于我们的影响"><a href="#大小端模式对于我们的影响" class="headerlink" title="大小端模式对于我们的影响"></a>大小端模式对于我们的影响</h2><p>只有读取的时候，才必须区分大小端字节序，其它情况都不用考虑</p><p>因此对于我们来说，在网络传输当中我们传输的是字节数组</p><p>那么我们在收到字节数组进行解析时，就需要考虑大小端的问题</p><p>虽然TCP&#x2F;IP协议规定了在网络上必须采用网络字节顺序（大端模式）</p><p>但是具体传输时采用哪种模式，都是根据前后端语言、设备决定的</p><p>在进行网络通讯时，前后端语言不同时，可能会造成大小端不统一</p><p>一般情况下</p><p>C# 和 Java&#x2F;Erlang&#x2F;AS3 通讯需要进行大小端转换 因为C#是小端模式 Java&#x2F;Erlang&#x2F;AS3是大端模式</p><p>C# 与 C++通信不需要特殊处理 他们都是小端模式</p><h2 id="大小端转换"><a href="#大小端转换" class="headerlink" title="大小端转换"></a>大小端转换</h2><h3 id="判断是大小端哪种模式"><a href="#判断是大小端哪种模式" class="headerlink" title="判断是大小端哪种模式"></a>判断是大小端哪种模式</h3><p>print(“是否是小端模式:” + BitConverter.IsLittleEndian);</p><h3 id="简单的转换API-只支持几种类型"><a href="#简单的转换API-只支持几种类型" class="headerlink" title="简单的转换API 只支持几种类型"></a>简单的转换API 只支持几种类型</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//转换为网络字节序 相当于就是转为大端模式</span></span><br><span class="line"><span class="comment">//1. 本机字节序转网络字节序</span></span><br><span class="line"><span class="type">int</span> i = <span class="number">99</span>;</span><br><span class="line">byte[] bytes = BitConverter.GetBytes(IPAddress.HostToNetworkOrder(i));</span><br><span class="line"><span class="comment">//2. 网络字节序转本机字节序</span></span><br><span class="line"><span class="type">int</span> receI = BitConverter.ToInt32(bytes, <span class="number">0</span>);</span><br><span class="line">receI = IPAddress.NetworkToHostOrder(receI);</span><br></pre></td></tr></table></figure><h3 id="通用的转换方式"><a href="#通用的转换方式" class="headerlink" title="通用的转换方式"></a>通用的转换方式</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组中的倒序API</span></span><br><span class="line"><span class="comment">//如果后端需要用到大端模式 那么我们进行判断</span></span><br><span class="line"><span class="comment">//如果当前是小端模式 就进行一次 大小端转换</span></span><br><span class="line"><span class="keyword">if</span>(BitConverter.IsLittleEndian) Array.Reverse(bytes);</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>大小端模式会根据主机硬件环境不同、语言不同而有所区别</p><p>当我们前后端是不同语言开发且运行在不同主机上时</p><p>前后端需要对大小端字节序定下统一的规则</p><p>一般让前端迎合后端，因为字节序的转换也是会带来些许性能损耗的</p><p>网络游戏中要尽量减轻后端的负担</p><p>一般情况下</p><p>C# 和 Java&#x2F;Erlang&#x2F;AS3 通讯需要进行大小端转换 前端C#从小变大</p><p>C# 与 C++通信不需要特殊处理</p><p>我们不用死记硬背和谁通讯要注意大小端模式</p><p>当开发时，发现后端收到的消息和前端发的不一样</p><p>在协议统一的情况下，往往就是因为大小端造成的</p><p>这时我们再转换模式即可</p><p>注意：</p><p>Protobuf已经帮助我们解决了大小端问题</p><p>即使前后端语言不统一</p><p>使用它也不用过多考虑字节序转换的问题</p><h1 id="消息加密解密"><a href="#消息加密解密" class="headerlink" title="消息加密解密"></a>消息加密解密</h1><h2 id="什么是消息加密解密"><a href="#什么是消息加密解密" class="headerlink" title="什么是消息加密解密"></a>什么是消息加密解密</h2><p>我们在网路传输时，会把数据转换为字节数组以2进制的形式进行传输</p><p>理论上来说，如果有人截取篡改了消息，或者从前端发假消息给后端</p><p>就可能产生作弊行为</p><p>消息的加密解密 可以有效避免作弊行为的产生</p><h3 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h3><p>采用一些方式对数据进行处理后，使数据从表面上看，已经不能表达出原有的意思</p><p>别人就算获取到了你的信息，也无法知道你的内容的含义和规则</p><p>这样可以让我们的数据更加的安全，降低被篡改的可能性</p><h3 id="解密"><a href="#解密" class="headerlink" title="解密"></a>解密</h3><p>通过对加密过的数据采用某些方法，去还原原有数据，从而获取目标数据</p><p>其实就是在</p><p>发消息时，对我们的消息2进制数据进行加密（一般只对消息体加密）</p><p>收到消息时，对2进制数据进行解密（一般只对消息体解密）</p><h2 id="加密是否是100-安全？"><a href="#加密是否是100-安全？" class="headerlink" title="加密是否是100%安全？"></a>加密是否是100%安全？</h2><p>一定记住加密只是提高破解门槛，没有100%保密的数据</p><p>通过各种尝试始终是可以破解加密规则的，只是时间问题</p><p>加密只能提升一定的安全性</p><p>对于大多数情况下已经够用了，除非专门有人针对你们的产品进行破解</p><p>但是遇到这种情况 也证明你的产品已经足够成功了</p><h2 id="加密解密的相关名词解释"><a href="#加密解密的相关名词解释" class="headerlink" title="加密解密的相关名词解释"></a>加密解密的相关名词解释</h2><p>明文：待加密的报文（内容）</p><p>密文：加密后的报文（内容）</p><p>密钥：加密过程中或解密过程中输入的数据</p><p>算法：将明文和密钥相结合进行处理，生成密文的方法，叫加密算法。将密文和密钥相结合进行处理，生成明文的方法，叫解密算法</p><h2 id="了解加密算法分类"><a href="#了解加密算法分类" class="headerlink" title="了解加密算法分类"></a>了解加密算法分类</h2><h3 id="1-单向加密"><a href="#1-单向加密" class="headerlink" title="1.单向加密"></a>1.单向加密</h3><p>​ 将数据进行计算变成另一种固定长度的值，这种加密是不可逆的</p><p>​ 常用算法</p><p>​ MD5、SHA1、SHA256等</p><p>​ 用途：这种加密在网络传输中不会使用，主要用到其它功能当中，比如密码的单向加密</p><h3 id="2-对称加密技术"><a href="#2-对称加密技术" class="headerlink" title="2.对称加密技术"></a>2.对称加密技术</h3><p>​ 使用同一个密钥，对数据镜像加密和解密（用密钥对明文加密，用密钥对密文解密）</p><p>​ 常用算法</p><p>​ DES、3DES、IDEA、AES等</p><p>​ 优点：计算量小，加密速度快、效率高</p><p>​ 缺点：如果知道了密钥和算法，就可以进行解密</p><p>​ 用途：网路通讯中可以使用对称加密技术，这个密钥可以是由后端下发的，每次建立通讯后都会变化的</p><h3 id="3-非对称加密技术"><a href="#3-非对称加密技术" class="headerlink" title="3.非对称加密技术"></a>3.非对称加密技术</h3><p>​ 在加密过程中，需要一对密钥，不公开的密钥称为私钥，公开的那一个密钥称为公钥</p><p>​ 也可以称为公开密钥加密</p><p>​ 从一对密钥中的任何一个密钥都不能计算出另一个密钥</p><p>​ 使用一对密钥中的任何一个加密，只有另一个密钥才能解密。如果截获公钥加密数据，没有私钥也无法解密</p><p>​ 常用算法</p><p>​ RSA、DSA等</p><p>​ 优点：安全性高，即使获取到了公钥，没有私钥也无法进行解密</p><p>​ 缺点：算法复杂，加密速度较慢</p><p>​ 用途：对安全性要求较高的场景，并且可以接受较慢的加密速度的需求可以使用非对称加密技术</p><p>​ 以后在对接一些支付SDK时经常会看到平台提供的就是非对称加密技术</p><p>关于这些加密算法</p><p>有很多的别人写好的第三发加密算法库</p><p>可以直接获取用于在程序中对数据进行加密</p><p>也可以自己基于加密算法原理来设计自己的规则</p><h2 id="用简单的异或加密感受加密的作用"><a href="#用简单的异或加密感受加密的作用" class="headerlink" title="用简单的异或加密感受加密的作用"></a>用简单的异或加密感受加密的作用</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异或加密特点</span></span><br><span class="line"><span class="comment">//密钥为一个整数</span></span><br><span class="line"><span class="comment">//明文 异或 密钥 得到 密文</span></span><br><span class="line"><span class="comment">//密文 异或 密钥 得到 明文</span></span><br><span class="line"></span><br><span class="line">TestMsg msg = new TestMsg();</span><br><span class="line">msg.ListInt.Add(<span class="number">1</span>);</span><br><span class="line">msg.TestBool = <span class="literal">false</span>;</span><br><span class="line">msg.TestD = <span class="number">5.5</span>;</span><br><span class="line">msg.TestInt32 = <span class="number">99</span>;</span><br><span class="line">msg.TestMap.Add(<span class="number">1</span>, <span class="string">&quot;刘英博&quot;</span>);</span><br><span class="line">msg.TestMsg2 = new TestMsg2();</span><br><span class="line">msg.TestMsg2.TestInt32 = <span class="number">88</span>;</span><br><span class="line">msg.TestMsg3 = new TestMsg.Types.TestMsg3();</span><br><span class="line">msg.TestMsg3.TestInt32 = <span class="number">66</span>;</span><br><span class="line"></span><br><span class="line">msg.TestHeart = new GameSystemTest.HeartMsg();</span><br><span class="line">msg.TestHeart.Time = <span class="number">7777</span>;</span><br><span class="line"></span><br><span class="line">byte[] bytes = NetTool.GetProtoBytes(msg);</span><br><span class="line"><span class="comment">//异或加密算法</span></span><br><span class="line"><span class="comment">//密钥声明</span></span><br><span class="line">byte s = <span class="number">55</span>;</span><br><span class="line"><span class="comment">//异或加密</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; bytes.Length; i++)</span><br><span class="line">    bytes[i] ^= s;</span><br><span class="line"></span><br><span class="line"><span class="comment">//异或解密</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; bytes.Length; i++)</span><br><span class="line">    bytes[i] ^= s;</span><br><span class="line"></span><br><span class="line">TestMsg msg2 = NetTool.GetProtoMsg&lt;TestMsg&gt;(bytes);</span><br><span class="line">print(msg2.TestMsg3.TestInt32);</span><br></pre></td></tr></table></figure><h1 id="Protobuf"><a href="#Protobuf" class="headerlink" title="Protobuf"></a>Protobuf</h1><h2 id="什么是Protobuf"><a href="#什么是Protobuf" class="headerlink" title="什么是Protobuf"></a>什么是Protobuf</h2><p>Protobuf全称是 protocol-buffers（协议缓冲区）</p><p>是谷歌提供给开发者的一个开源的协议生成工具</p><p>它的主要工作原理和我们之前做的自定义协议工具类似</p><p>只不过它更加的完善，可以基于协议配置文件生成</p><p>C++、Java、C#、Objective-C、PHP、Python、Ruby、Go</p><p>等等语言的代码文件</p><p>它是商业游戏开发中常常会选择的协议生成工具</p><p>有很多游戏公司选择它作为协议工具来进行网络游戏开发</p><p>因为它通用性强，稳定性高，可以节约出开发自定义协议工具的时间</p><p>protocol-buffers官网</p><p><a target="_blank" rel="noopener" href="https://developers.google.com/protocol-buffers">https://developers.google.com/protocol-buffers</a></p><h2 id="Protobuf的使用流程"><a href="#Protobuf的使用流程" class="headerlink" title="Protobuf的使用流程"></a>Protobuf的使用流程</h2><p>在官网中前往下载地址</p><p>protocol-buffers官网</p><p><a target="_blank" rel="noopener" href="https://developers.google.com/protocol-buffers">https://developers.google.com/protocol-buffers</a></p><p>下载protobuf-csharp然后有两种方式选择</p><h3 id="在unity中使用源码"><a href="#在unity中使用源码" class="headerlink" title="在unity中使用源码"></a>在unity中使用源码</h3><p>解压后打开csharp\src将Google.Protobuf这个文件夹直接放入到unity中</p><h3 id="在unity中使用Google-Protobuf-dll"><a href="#在unity中使用Google-Protobuf-dll" class="headerlink" title="在unity中使用Google.Protobuf.dll"></a>在unity中使用Google.Protobuf.dll</h3><p>解压后打开csharp\src中的Google.Protobuf.sln</p><p>选择Google.Protobuf右键生成 dll文件</p><p>在csharp\src\Google.Protobuf\bin\Debug路径下找到对应.net版本的Dll文件（我们使用4.5即可）</p><p>将net45中的dll文件导入到Unity工程中的Plugins插件文件夹中</p><h2 id="proto文件"><a href="#proto文件" class="headerlink" title=".proto文件"></a>.proto文件</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指定版本</span></span><br><span class="line">syntax = <span class="string">&quot;proto3&quot;</span>;</span><br><span class="line"><span class="comment">// C#中的namespace</span></span><br><span class="line">package ProtoTest</span><br><span class="line"> </span><br><span class="line">option optimize_for = SPEED;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// java文件路径</span></span><br><span class="line">option java_package = <span class="string">&quot;com.montior.proto&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// java文件名称</span></span><br><span class="line">option java_outer_classname = <span class="string">&quot;MonitorData&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 消息结果。</span></span><br><span class="line">message MsgResult &#123;</span><br><span class="line">    <span class="comment">// 结果码。</span></span><br><span class="line">    int32 code = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 错误消息。</span></span><br><span class="line">    <span class="built_in">string</span> err_msg = <span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 接收包</span></span><br><span class="line">message TaskProtocol &#123;</span><br><span class="line">    <span class="comment">// 数据类型</span></span><br><span class="line">    int32 packType = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 具体数据</span></span><br><span class="line">    bytes content = <span class="number">3</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 包的类型</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PackType</span> &#123;</span></span><br><span class="line">    LOGIN = <span class="number">0</span>;</span><br><span class="line">    CREATE_TASK = <span class="number">2</span>;</span><br><span class="line">    DELETE_TASK = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">message LoginPack&#123;</span><br><span class="line">    <span class="built_in">string</span> username = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">message LoginPack2&#123;</span><br><span class="line">    <span class="built_in">string</span> username = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">message CreateTaskPack&#123;</span><br><span class="line">    <span class="built_in">string</span> taskId = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">string</span> taskName = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1.message：消息类型，类似于一个类</p><p>2.package：包名，CSharp中的命名空间，用来防止不同消息类型的冲突</p><p>3.enum：枚举，这个需要我说吗？</p><p>4.option：选项，说明下我这边用到的<br>option java_package &#x3D; “com.example.foo”;&#x2F;&#x2F; java文件路径<br>option java_outer_classname &#x3D; “Ponycopter”;&#x2F;&#x2F; java文件名称<br>option optimize_for &#x3D; SPEED;&#x2F;&#x2F;可以被设置为 SPEED, CODE_SIZE,or LITE_RUNTIME。这些值将通过如下的方式影响C++及java代码的生成：</p><p>注：以上选项，CSharp都用不着的，就是写着玩儿….</p><p>5.数据类型</p><table><thead><tr><th>protobuf 数据类型</th><th>描述</th></tr></thead><tbody><tr><td>bool</td><td>布尔类型</td></tr><tr><td>double</td><td>64位浮点数</td></tr><tr><td>float</td><td>32为浮点数</td></tr><tr><td>int32</td><td>32位整数</td></tr><tr><td>uin32</td><td>无符号32位整数</td></tr><tr><td>int64</td><td>64位整数</td></tr><tr><td>uint64</td><td>64为无符号整</td></tr><tr><td>sint32</td><td>32位整数，处理负数效率更高</td></tr><tr><td>sing64</td><td>64位整数 处理负数效率更高</td></tr><tr><td>fixed32</td><td>32位无符号整数</td></tr><tr><td>fixed64</td><td>64位无符号整数</td></tr><tr><td>sfixed32</td><td>32位整数、能以更高的效率处理负数</td></tr><tr><td>sfixed64</td><td>64为整数</td></tr><tr><td>string</td><td>只能处理 ASCII字符</td></tr><tr><td>bytes</td><td>用于处理多字节的语言字符、如中文</td></tr></tbody></table><p>6.关键字</p><table><thead><tr><th>指定字段</th><th>说明</th></tr></thead><tbody><tr><td>required</td><td>表示是一个必须字段，必须相对于发送方，在发送消息之前必须设置该字段的值，对于接收方，必须能够识别该字段的意思。发送之前没有设置required字段或者无法识别required字段都会引发编解码异常，导致消息被丢弃。</td></tr><tr><td>optional</td><td>表示是一个可选字段，可选对于发送方，在发送消息时，可以有选择性的设置或者不设置该字段的值。对于接收方，如果能够识别可选字段就进行相应的处理，如果无法识别，则忽略该字段，消息中的其它字段正常处理。—因为optional字段的特性，很多接口在升级版本中都把后来添加的字段都统一的设置为optional字段，这样老的版本无需升级程序也可以正常的与新的软件进行通信，只不过新的字段无法识别而已，因为并不是每个节点都需要新的功能，因此可以做到按需升级和平滑过渡。</td></tr><tr><td>repeated</td><td>表示该字段可以包含0~N个元素。其特性和optional一样，但是每一次可以包含多个值。可以看作是在传递一个数组的值。</td></tr></tbody></table><h2 id="Protoc"><a href="#Protoc" class="headerlink" title="Protoc"></a>Protoc</h2><p>在官网中前往下载地址</p><p>protocol-buffers官网</p><p><a target="_blank" rel="noopener" href="https://developers.google.com/protocol-buffers">https://developers.google.com/protocol-buffers</a></p><p>写好 proto 文件之后用 protoc 编译器将 .proto文件编译成目标语言。</p><h3 id="Unity中protoc使用"><a href="#Unity中protoc使用" class="headerlink" title="Unity中protoc使用"></a>Unity中protoc使用</h3><p>下载Protobuf-Unity插件放入Unity工程<br><code>Protobuf-Unity下载链接</code>：<a target="_blank" rel="noopener" href="https://github.com/5argon/protobuf-unity">https://github.com/5argon/protobuf-unity</a></p><p>Unity工程打开<code>Editor/Preferences/Protobuf</code>并将下载的Protoc路径填入Path to protoc中<br><img src="https://cdn.jsdelivr.net/gh/liuyingbor/imgHosting/img/39843f7381804ed78a05cafebf88268d.png" alt="在这里插入图片描述">这个插件可以遍历Unity工程目录下的所有proto文件，并生成对应的c#文件。</p><h1 id="网络管理框架"><a href="#网络管理框架" class="headerlink" title="网络管理框架"></a>网络管理框架</h1><p>一个小Demo主要是为了理解网络框架的大概流程，都是基础的C#</p><p><a target="_blank" rel="noopener" href="https://github.com/liuyingbor/NetDemo">https://github.com/liuyingbor/NetDemo</a></p><p>如果想深入了解网络框架Unity商城的BestHTTP强烈推荐。</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://liuyingbo.com">刘英博</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://liuyingbo.com/posts/ba9e7782.html">https://liuyingbo.com/posts/ba9e7782.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://liuyingbo.com" target="_blank">狼唤</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Unity/">Unity</a><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C/">网络</a></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1d0254fc.html"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Unity-移动平台相关（一）</div></div></a></div><div class="next-post pull-right"><a href="/posts/34c3e4a1.html"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Unity-UniTask</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/c7963808.html" title="Unity-网络开发（一）"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-16</div><div class="title">Unity-网络开发（一）</div></div></a></div><div><a href="/posts/f780d4d0.html" title="Unity-网络开发（二）"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-16</div><div class="title">Unity-网络开发（二）</div></div></a></div><div><a href="/posts/6b63b37.html" title="Unity协程"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-09</div><div class="title">Unity协程</div></div></a></div><div><a href="/posts/9fa0374.html" title="Unity-Shader"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-06</div><div class="title">Unity-Shader</div></div></a></div><div><a href="/posts/undefined.html" title="Unity-全局屏幕点击特效"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-14</div><div class="title">Unity-全局屏幕点击特效</div></div></a></div><div><a href="/posts/b6d0915c.html" title="Unity-底层原理"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-12</div><div class="title">Unity-底层原理</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://blog-1308267163.cos.ap-shanghai.myqcloud.com/imgs/202211100000064.JPG" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">刘英博</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">大小端模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%A7%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.</span> <span class="toc-text">什么是大小端模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E7%AB%AF%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">大端模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">小端模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-number">1.1.3.</span> <span class="toc-text">举例说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E7%AB%AF%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">1.1.4.</span> <span class="toc-text">大端模式存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">1.1.5.</span> <span class="toc-text">小端模式存储</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E5%A4%A7%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">为什么有大小端模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E7%AB%AF%E6%A8%A1%E5%BC%8F%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">1.3.</span> <span class="toc-text">大小端模式对于我们的影响</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E7%AB%AF%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.4.</span> <span class="toc-text">大小端转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%A4%A7%E5%B0%8F%E7%AB%AF%E5%93%AA%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">判断是大小端哪种模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E8%BD%AC%E6%8D%A2API-%E5%8F%AA%E6%94%AF%E6%8C%81%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">简单的转换API 只支持几种类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E7%9A%84%E8%BD%AC%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.3.</span> <span class="toc-text">通用的转换方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86"><span class="toc-number">2.</span> <span class="toc-text">消息加密解密</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B6%88%E6%81%AF%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86"><span class="toc-number">2.1.</span> <span class="toc-text">什么是消息加密解密</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86"><span class="toc-number">2.1.1.</span> <span class="toc-text">加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%AF%86"><span class="toc-number">2.1.2.</span> <span class="toc-text">解密</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E6%98%AF%E5%90%A6%E6%98%AF100-%E5%AE%89%E5%85%A8%EF%BC%9F"><span class="toc-number">2.2.</span> <span class="toc-text">加密是否是100%安全？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%9A%84%E7%9B%B8%E5%85%B3%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="toc-number">2.3.</span> <span class="toc-text">加密解密的相关名词解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%88%86%E7%B1%BB"><span class="toc-number">2.4.</span> <span class="toc-text">了解加密算法分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%95%E5%90%91%E5%8A%A0%E5%AF%86"><span class="toc-number">2.4.1.</span> <span class="toc-text">1.单向加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E6%8A%80%E6%9C%AF"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.对称加密技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E6%8A%80%E6%9C%AF"><span class="toc-number">2.4.3.</span> <span class="toc-text">3.非对称加密技术</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E7%AE%80%E5%8D%95%E7%9A%84%E5%BC%82%E6%88%96%E5%8A%A0%E5%AF%86%E6%84%9F%E5%8F%97%E5%8A%A0%E5%AF%86%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.5.</span> <span class="toc-text">用简单的异或加密感受加密的作用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Protobuf"><span class="toc-number">3.</span> <span class="toc-text">Protobuf</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFProtobuf"><span class="toc-number">3.1.</span> <span class="toc-text">什么是Protobuf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protobuf%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">3.2.</span> <span class="toc-text">Protobuf的使用流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8unity%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%BA%90%E7%A0%81"><span class="toc-number">3.2.1.</span> <span class="toc-text">在unity中使用源码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8unity%E4%B8%AD%E4%BD%BF%E7%94%A8Google-Protobuf-dll"><span class="toc-number">3.2.2.</span> <span class="toc-text">在unity中使用Google.Protobuf.dll</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proto%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">.proto文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protoc"><span class="toc-number">3.4.</span> <span class="toc-text">Protoc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Unity%E4%B8%ADprotoc%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.1.</span> <span class="toc-text">Unity中protoc使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E6%A1%86%E6%9E%B6"><span class="toc-number">4.</span> <span class="toc-text">网络管理框架</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/ba6d86a1.html" title="C#数据结构与算法"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="C#数据结构与算法"></a><div class="content"><a class="title" href="/posts/ba6d86a1.html" title="C#数据结构与算法">C#数据结构与算法</a><time datetime="2022-11-13T11:01:46.729Z" title="发表于 2022-11-13 11:01:46">2022-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1d0254fc.html" title="Unity-移动平台相关（一）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Unity-移动平台相关（一）"></a><div class="content"><a class="title" href="/posts/1d0254fc.html" title="Unity-移动平台相关（一）">Unity-移动平台相关（一）</a><time datetime="2022-09-01T15:06:06.000Z" title="发表于 2022-09-01 15:06:06">2022-09-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ba9e7782.html" title="Unity-网络开发（三）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Unity-网络开发（三）"></a><div class="content"><a class="title" href="/posts/ba9e7782.html" title="Unity-网络开发（三）">Unity-网络开发（三）</a><time datetime="2022-08-14T22:13:47.000Z" title="发表于 2022-08-14 22:13:47">2022-08-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/34c3e4a1.html" title="Unity-UniTask"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Unity-UniTask"></a><div class="content"><a class="title" href="/posts/34c3e4a1.html" title="Unity-UniTask">Unity-UniTask</a><time datetime="2022-08-14T21:24:49.000Z" title="发表于 2022-08-14 21:24:49">2022-08-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/c7963808.html" title="Unity-网络开发（一）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Unity-网络开发（一）"></a><div class="content"><a class="title" href="/posts/c7963808.html" title="Unity-网络开发（一）">Unity-网络开发（一）</a><time datetime="2022-05-16T15:06:06.000Z" title="发表于 2022-05-16 15:06:06">2022-05-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 刘英博</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="1708664797" data-server="tencent" data-type="playlist" data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><div class="app-refresh" id="app-refresh" style="position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease"><div class="app-refresh-wrap" style="display:flex;color:#fff;height:100%;align-items:center;justify-content:center"><label>✨ 有新文章啦！ 👉</label><a href="javascript:void(0)" onclick="location.reload()"><span style="color:#fff;text-decoration:underline;cursor:pointer">🍗点击食用🍔</span></a></div></div><script>if ('serviceWorker' in navigator) {
if (navigator.serviceWorker.controller) {
navigator.serviceWorker.addEventListener('controllerchange', function() {
showNotification()
})
}
window.addEventListener('load', function() {
navigator.serviceWorker.register('/sw.js')
})
}
function showNotification() {
if (GLOBAL_CONFIG.Snackbar) {
var snackbarBg =
document.documentElement.getAttribute('data-theme') === 'light' ?
GLOBAL_CONFIG.Snackbar.bgLight :
GLOBAL_CONFIG.Snackbar.bgDark
var snackbarPos = GLOBAL_CONFIG.Snackbar.position
Snackbar.show({
text: '✨ 有新文章啦！ 👉',
backgroundColor: snackbarBg,
duration: 500000,
pos: snackbarPos,
actionText: '🍗点击食用🍔',
actionTextColor: '#fff',
onActionClick: function(e) {
location.reload()
},
})
} else {
var showBg =
document.documentElement.getAttribute('data-theme') === 'light' ?
'#3b70fc' :
'#1f1f1f'
var cssText = `top: 0; background: ${showBg};`
document.getElementById('app-refresh').style.cssText = cssText
}
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>